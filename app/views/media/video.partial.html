<div class="media-wrapper" ng-switch="media.media.type">
  <div class="video-icon"></div>
  <img ng-src="{{ cdnDomain + media.media.thumb }}" fallback-src="{{ drrDomain + media.media.thumb }}" ng-switch-when="file" show-media-video="{{ media.media.path }}" media-id="video-{{ media.id }}" media-type="{{ media.media.type }}" />
  <embed ng-switch-when="youtube" ng-src="{{ media.media.video_id | trustVideoURL:'youtube' }}" width="{{ mediaWidth }}" height="300" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true">
  <iframe ng-switch-when="vimeo" ng-src="{{ media.media.video_id | trustVideoURL:'vimeo' }}" width="{{ mediaWidth }}" height="300" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
  <a ng-href="{{ media.media.path }}" target="_blank" ng-switch-default>
    <img ng-src="{{ cdnDomain + media.media.thumb }}" fallback-src="{{ drrDomain + media.media.thumb }}" />
  </a>
</div>

<footer>
  <div class="row">
    <div class="col-xs-7 media-caption">
      {{ media.media.title | substr:0:80 }}
    </div>
    <div class="col-xs-5 media-stats">
      {{ media.stats.likes }} likes &bull; {{ media.comments.length }} comments
    </div>
  </div>

  <div class="row media-actions">
    <div class="col-xs-6" style="padding-right: 6px;">
      <button type="button" class="btn btn-block btn-lg btn-primary" element="{{ media.like_type }}" id="{{ media.like_id }}" like="1" model="media" like-this><i>T</i> I Like This</button>
    </div>
    <div class="col-xs-6" style="padding-left: 6px;">
      <a ng-href="/#/activity/{{ media.id }}" class="btn btn-block btn-lg btn-primary"><i>K</i> Comment</a>
    </div>
  </div>
</footer>